<!DOCTYPE html>
<html>
  <head lang="en">
    <meta charset="UTF-8" />
    <title>20. Full Featured 2026</title>
    <link rel="stylesheet" href="./css/tuidoc-example-style.css" />
    <!-- Editor -->
    <link rel="stylesheet" href="../dist/cdn/toastui-editor.css" />
    <!-- Dark theme -->
    <link rel="stylesheet" href="../dist/cdn/theme/toastui-editor-dark.css" />
    <!-- Chart -->
    <link rel="stylesheet" href="https://uicdn.toast.com/chart/v4.3.4/toastui-chart.css" />
    <!-- Code Highlight -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css"
    />
    <link
      rel="stylesheet"
      href="/plugins/code-syntax-highlight/dist/cdn/toastui-editor-plugin-code-syntax-highlight.css"
    />
    <!-- Color syntax -->
    <link
      rel="stylesheet"
      href="https://uicdn.toast.com/tui-color-picker/v2.2.6/tui-color-picker.css"
    />
    <link
      rel="stylesheet"
      href="/plugins/color-syntax/dist/cdn/toastui-editor-plugin-color-syntax.css"
    />
    <!-- Merged Table -->
    <link
      rel="stylesheet"
      href="/plugins/table-merged-cell/dist/cdn/toastui-editor-plugin-table-merged-cell.css"
    />
    <!-- Export -->
    <link
      rel="stylesheet"
      href="/plugins/export/dist/cdn/toastui-editor-plugin-export.css"
    />
    <!-- KaTeX -->
    <link rel="stylesheet" href="/node_modules/katex/dist/katex.min.css" />
    <style>
      html,
      body,
      #app {
        height: 100%;
      }

      body {
        margin: 0;
      }

      .page {
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .code-html.tui-doc-contents {
        flex: 1;
        min-height: 0;
        display: flex;
        flex-direction: column;
      }

      #editor {
        flex: 1;
        min-height: 0;
      }

      .toastui-editor-defaultUI {
        height: 100%;
      }

      body.dark {
        background: #111;
      }

      .toastui-editor-toolbar-icons.theme-toggle-group {
        background-image: none;
        padding: 0;
        width: auto;
        height: 32px;
        display: flex;
        align-items: center;
      }

      .theme-segmented {
        display: inline-flex;
        align-items: center;
        gap: 0;
        padding: 2px;
        height: 24px;
        border-radius: 999px;
        background: #f7f9fc;
        border: 1px solid #e4e7ee;
        box-sizing: border-box;
      }

      .theme-segmented-button {
        appearance: none;
        border: 0;
        background: transparent;
        color: #81858f;
        font-size: 12px;
        font-weight: 600;
        padding: 0 6px;
        height: 22px;
        line-height: 22px;
        min-width: 24px;
        border-radius: 999px;
        cursor: pointer;
        transition: background 0.2s ease, color 0.2s ease;
      }

      .theme-segmented-button.is-active {
        background: #00a9ff;
        color: #fff;
      }

      .theme-segmented-button:not(.is-active):hover {
        background: #fff;
        color: #81858f;
      }

      .toastui-editor-dark .theme-segmented {
        background: #232428;
        border-color: #303238;
      }

      .toastui-editor-dark .theme-segmented-button {
        color: #8f939f;
      }

      .toastui-editor-dark .theme-segmented-button.is-active {
        background: #67ccff;
        color: #121212;
      }

      .toastui-editor-dark .theme-segmented-button:not(.is-active):hover {
        background: #36383f;
        color: #8f939f;
      }

      .toastui-editor-defaultUI-toolbar .export-toolbar-group {
        margin-left: auto;
      }

      .toastui-editor-defaultUI-toolbar .export-toolbar-group .toastui-editor-toolbar-divider {
        display: none;
      }

      .toastui-editor-toolbar-icons.export-button {
        background-repeat: no-repeat;
        background-position: center;
        background-size: 18px 18px;
        color: transparent;
        text-indent: -9999px;
        overflow: hidden;
      }

      .toastui-editor-toolbar-icons.export-markdown {
        background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'><rect width='20' height='20' rx='3' fill='%232b6cb0'/><text x='10' y='13' font-size='8' text-anchor='middle' fill='%23fff' font-family='Arial,sans-serif' font-weight='700'>MD</text></svg>");
      }

      .toastui-editor-toolbar-icons.export-html {
        background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'><rect width='20' height='20' rx='3' fill='%232f855a'/><text x='10' y='13' font-size='6' text-anchor='middle' fill='%23fff' font-family='Arial,sans-serif' font-weight='700'>HTML</text></svg>");
      }
    </style>
  </head>
  <body>
    <div id="app" class="page">
      <div class="code-html tui-doc-contents">
        <!-- Editor -->
        <div id="editor"></div>
      </div>
    </div>
    <!-- Added to check demo page in Internet Explorer -->
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
    <script src="./data/example20-full-featured-2026.js"></script>
    <!-- Editor -->
    <script src="../dist/cdn/toastui-editor-all.js"></script>
    <!-- Chart -->
    <script src="https://uicdn.toast.com/chart/v4.3.4/toastui-chart.js"></script>
    <!-- Color Picker -->
    <script src="https://uicdn.toast.com/tui-color-picker/v2.2.6/tui-color-picker.min.js"></script>
    <!-- Mermaid -->
    <script src="/node_modules/mermaid/dist/mermaid.min.js"></script>
    <!-- Editor's Plugin -->
    <script src="/plugins/chart/dist/cdn/toastui-editor-plugin-chart.js"></script>
    <script src="/plugins/code-syntax-highlight/dist/cdn/toastui-editor-plugin-code-syntax-highlight-all.js"></script>
    <script src="/plugins/color-syntax/dist/cdn/toastui-editor-plugin-color-syntax.js"></script>
    <script src="/plugins/table-merged-cell/dist/cdn/toastui-editor-plugin-table-merged-cell.js"></script>
    <script src="/plugins/uml/dist/cdn/toastui-editor-plugin-uml.js"></script>
    <script src="/plugins/mermaid/dist/cdn/toastui-editor-plugin-mermaid.js"></script>
    <script src="/plugins/katex/dist/cdn/toastui-editor-plugin-katex.js"></script>
    <script src="/plugins/export/dist/cdn/toastui-editor-plugin-export.js"></script>
    <script type="text/babel" class="code-js">
      const { Editor } = toastui;
      const {
        chart,
        codeSyntaxHighlight,
        colorSyntax,
        tableMergedCell,
        uml,
        mermaid,
        katex,
        export: exportPlugin
      } = Editor.plugin;

      const chartOptions = {
        minWidth: 100,
        maxWidth: 600,
        minHeight: 100,
        maxHeight: 300
      };

      const themeStorageKey = 'themeMode';
      const media = window.matchMedia('(prefers-color-scheme: dark)');
      const storedMode = localStorage.getItem(themeStorageKey);
      const themeMode =
        storedMode === 'light' || storedMode === 'dark' || storedMode === 'auto'
          ? storedMode
          : 'auto';
      const initialTheme = themeMode === 'dark' || (themeMode === 'auto' && media.matches) ? 'dark' : 'light';

      const editor = new Editor({
        el: document.querySelector('#editor'),
        previewStyle: 'vertical',
        height: '100%',
        initialEditType: 'wysiwyg',
        initialValue: fullFeatured2026Content,
        theme: initialTheme,
        plugins: [
          [chart, chartOptions],
          [codeSyntaxHighlight, { highlighter: Prism }],
          colorSyntax,
          tableMergedCell,
          uml,
          mermaid,
          katex,
          [exportPlugin, { toolbarGroupIndex: 99, toolbarItemIndex: 1 }]
        ]
      });

      const rootEl = document.querySelector('.toastui-editor-defaultUI');
      const bodyEl = document.body;
      let currentMode = themeMode;
      const themeOptions = [
        { mode: 'light', label: '☀', title: 'Light' },
        { mode: 'auto', label: 'A', title: 'Auto' },
        { mode: 'dark', label: '☾', title: 'Dark' }
      ];

      const themeGroup = document.createElement('div');

      themeGroup.className = 'toastui-editor-toolbar-icons theme-toggle-group';
      themeGroup.setAttribute('role', 'radiogroup');
      themeGroup.setAttribute('aria-label', 'Theme');

      const themeSegmented = document.createElement('div');

      themeSegmented.className = 'theme-segmented';
      themeGroup.appendChild(themeSegmented);

      const themeButtons = themeOptions.map((option) => {
        const button = document.createElement('button');

        button.type = 'button';
        button.className = 'theme-segmented-button';
        button.setAttribute('role', 'radio');
        button.setAttribute('aria-checked', 'false');
        button.setAttribute('aria-label', option.title);
        button.dataset.themeMode = option.mode;
        button.textContent = option.label;
        themeSegmented.appendChild(button);
        return button;
      });

      const setButtonState = (mode) => {
        themeButtons.forEach((button) => {
          const isActive = button.dataset.themeMode === mode;

          button.classList.toggle('is-active', isActive);
          button.setAttribute('aria-checked', String(isActive));
        });
      };

      const applyTheme = (mode, shouldPersist = true) => {
        const useDark = mode === 'dark' || (mode === 'auto' && media.matches);

        rootEl.classList.toggle('toastui-editor-dark', useDark);
        bodyEl.classList.toggle('dark', useDark);
        setButtonState(mode);
        editor.eventEmitter.emit('change');
        currentMode = mode;

        if (shouldPersist) {
          localStorage.setItem(themeStorageKey, mode);
        }
      };

      themeButtons.forEach((button) => {
        button.addEventListener('click', () => {
          applyTheme(button.dataset.themeMode);
        });
      });

      editor.insertToolbarItem(
        { groupIndex: 99, itemIndex: 0 },
        {
          el: themeGroup,
          name: 'themeToggle',
          tooltip: 'Theme'
        }
      );

      const handleMediaChange = () => {
        if (currentMode === 'auto') {
          applyTheme('auto', false);
        }
      };

      if (media.addEventListener) {
        media.addEventListener('change', handleMediaChange);
      } else {
        media.addListener(handleMediaChange);
      }

      applyTheme(currentMode, false);

      const toolbarEl = document.querySelector('.toastui-editor-defaultUI-toolbar');
      const exportButton = toolbarEl && toolbarEl.querySelector('.export-button');

      if (exportButton) {
        const exportGroup = exportButton.closest('.toastui-editor-toolbar-group');

        if (exportGroup) {
          exportGroup.classList.add('export-toolbar-group');
        }
      }
    </script>
  </body>
</html>
